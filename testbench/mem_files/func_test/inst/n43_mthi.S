#include <asm/asm.h>
#include <asm/regdef.h>
#include <cpu.h>
#include <machine.h>
#include <ns16550.h>
#include <asm/context.h>
#include <inst_test.h>

LEAF(n43_mthi_test)
    .set noreorder
    lui  a0, 0x2B00
    li  v0, 0x0
###test inst
    TEST_MTHI(0xa0fd56b0, 0xa0fd56b0)
    TEST_MTHI(0x34036328, 0x34036328)
    TEST_MTHI(0x7dcad506, 0x7dcad506)
    TEST_MTHI(0x62caefdc, 0x62caefdc)
    TEST_MTHI(0x4ec1d4e2, 0x4ec1d4e2)
    TEST_MTHI(0xbb3dd000, 0xbb3dd000)
    TEST_MTHI(0xdac42a1c, 0xdac42a1c)
    TEST_MTHI(0x966e84ac, 0x966e84ac)
    TEST_MTHI(0x3bcd7b10, 0x3bcd7b10)
    TEST_MTHI(0xddc25525, 0xddc25525)
    TEST_MTHI(0x8bebf210, 0x8bebf210)
    TEST_MTHI(0xf964e610, 0xf964e610)
    TEST_MTHI(0x46e44b12, 0x46e44b12)
    TEST_MTHI(0xe2e6f846, 0xe2e6f846)
    TEST_MTHI(0x46ae8aa8, 0x46ae8aa8)
    TEST_MTHI(0x1191cd7f, 0x1191cd7f)
    TEST_MTHI(0xbd803578, 0xbd803578)
    TEST_MTHI(0x1302389a, 0x1302389a)
    TEST_MTHI(0x382371da, 0x382371da)
    TEST_MTHI(0x454f9e29, 0x454f9e29)
    TEST_MTHI(0x3832df89, 0x3832df89)
    TEST_MTHI(0x6f546cea, 0x6f546cea)
    TEST_MTHI(0xbf33bbb0, 0xbf33bbb0)
    TEST_MTHI(0x96402740, 0x96402740)
    TEST_MTHI(0xf8821e10, 0xf8821e10)
    TEST_MTHI(0x6db7e680, 0x6db7e680)
    TEST_MTHI(0x88a8dd60, 0x88a8dd60)
    TEST_MTHI(0x2c030dc6, 0x2c030dc6)
    TEST_MTHI(0xa2de3f98, 0xa2de3f98)
    TEST_MTHI(0x645215a3, 0x645215a3)
    TEST_MTHI(0xb7bd08c0, 0xb7bd08c0)
    TEST_MTHI(0x7003883c, 0x7003883c)
    TEST_MTHI(0xb4e0116c, 0xb4e0116c)
    TEST_MTHI(0x22bdca2a, 0x22bdca2a)
    TEST_MTHI(0x4567e2b5, 0x4567e2b5)
    TEST_MTHI(0x01f8285f, 0x01f8285f)
    TEST_MTHI(0x2033f310, 0x2033f310)
    TEST_MTHI(0x3c3e8e57, 0x3c3e8e57)
    TEST_MTHI(0x5792c206, 0x5792c206)
    TEST_MTHI(0x37037ada, 0x37037ada)
    TEST_MTHI(0x602ce460, 0x602ce460)
    TEST_MTHI(0x7e218364, 0x7e218364)
    TEST_MTHI(0x465ff380, 0x465ff380)
    TEST_MTHI(0x1faba8dd, 0x1faba8dd)
    TEST_MTHI(0xab455c80, 0xab455c80)
    TEST_MTHI(0x4460c128, 0x4460c128)
    TEST_MTHI(0xc7cad944, 0xc7cad944)
    TEST_MTHI(0xdec38e8e, 0xdec38e8e)
    TEST_MTHI(0x503a32a2, 0x503a32a2)
    TEST_MTHI(0x53001f30, 0x53001f30)
    TEST_MTHI(0x1d51e498, 0x1d51e498)
    TEST_MTHI(0xf80f1780, 0xf80f1780)
    TEST_MTHI(0x4add5ee1, 0x4add5ee1)
    TEST_MTHI(0x361ed76a, 0x361ed76a)
    TEST_MTHI(0xe5d71450, 0xe5d71450)
    TEST_MTHI(0x1cad6a18, 0x1cad6a18)
    TEST_MTHI(0xa3ce5b80, 0xa3ce5b80)
    TEST_MTHI(0x32919320, 0x32919320)
    TEST_MTHI(0xc4a4e200, 0xc4a4e200)
    TEST_MTHI(0xb4d611b0, 0xb4d611b0)
    TEST_MTHI(0x2f7f4c0c, 0x2f7f4c0c)
    TEST_MTHI(0xf1de70c4, 0xf1de70c4)
    TEST_MTHI(0xc4198cf8, 0xc4198cf8)
    TEST_MTHI(0x401a6554, 0x401a6554)
    TEST_MTHI(0xd67433e0, 0xd67433e0)
    TEST_MTHI(0x39b088da, 0x39b088da)
    TEST_MTHI(0x37410b1a, 0x37410b1a)
    TEST_MTHI(0x9a4afe50, 0x9a4afe50)
    TEST_MTHI(0x12b5de60, 0x12b5de60)
    TEST_MTHI(0xbd1c510c, 0xbd1c510c)
    TEST_MTHI(0x4f0bc620, 0x4f0bc620)
    TEST_MTHI(0x398fb9a8, 0x398fb9a8)
    TEST_MTHI(0x5092936d, 0x5092936d)
    TEST_MTHI(0x6251c1a0, 0x6251c1a0)
    TEST_MTHI(0x8daea63b, 0x8daea63b)
    TEST_MTHI(0x79cbb088, 0x79cbb088)
    TEST_MTHI(0x33130bb6, 0x33130bb6)
    TEST_MTHI(0x930a196a, 0x930a196a)
    TEST_MTHI(0x9e388580, 0x9e388580)
    TEST_MTHI(0x30ef0e30, 0x30ef0e30)
    TEST_MTHI(0xf8529c83, 0xf8529c83)
    TEST_MTHI(0xa322cf9f, 0xa322cf9f)
    TEST_MTHI(0x178baea0, 0x178baea0)
    TEST_MTHI(0xacdf244e, 0xacdf244e)
    TEST_MTHI(0x72c87f74, 0x72c87f74)
    TEST_MTHI(0xe2990f70, 0xe2990f70)
    TEST_MTHI(0x2ebdf808, 0x2ebdf808)
    TEST_MTHI(0x5b150768, 0x5b150768)
    TEST_MTHI(0x4d858c86, 0x4d858c86)
    TEST_MTHI(0x1680a180, 0x1680a180)
    TEST_MTHI(0xb53c7514, 0xb53c7514)
    TEST_MTHI(0x326af520, 0x326af520)
    TEST_MTHI(0xd05d2da8, 0xd05d2da8)
    TEST_MTHI(0x244b3ae0, 0x244b3ae0)
    TEST_MTHI(0xa2d7b966, 0xa2d7b966)
    TEST_MTHI(0xa9c67ce0, 0xa9c67ce0)
    TEST_MTHI(0x94b5f36c, 0x94b5f36c)
    TEST_MTHI(0x3e8297ea, 0x3e8297ea)
    TEST_MTHI(0x8d28d45c, 0x8d28d45c)
    TEST_MTHI(0x20f64285, 0x20f64285)
    TEST_MTHI(0x626b8a00, 0x626b8a00)
    TEST_MTHI(0xeabca338, 0xeabca338)
    TEST_MTHI(0x29e9d100, 0x29e9d100)
    TEST_MTHI(0xba027680, 0xba027680)
    TEST_MTHI(0x740c1131, 0x740c1131)
    TEST_MTHI(0xf2219bec, 0xf2219bec)
    TEST_MTHI(0x074fad40, 0x074fad40)
    TEST_MTHI(0xff18acc8, 0xff18acc8)
    TEST_MTHI(0xe68df270, 0xe68df270)
    TEST_MTHI(0xe3c158a6, 0xe3c158a6)
    TEST_MTHI(0x597042c5, 0x597042c5)
    TEST_MTHI(0x23fb492e, 0x23fb492e)
    TEST_MTHI(0x504b6336, 0x504b6336)
    TEST_MTHI(0xa996b00e, 0xa996b00e)
    TEST_MTHI(0x9eb08b68, 0x9eb08b68)
    TEST_MTHI(0xd8723d5c, 0xd8723d5c)
    TEST_MTHI(0x1ba4e240, 0x1ba4e240)
    TEST_MTHI(0xd0d36330, 0xd0d36330)
    TEST_MTHI(0x280e08c8, 0x280e08c8)
    TEST_MTHI(0xe48d9031, 0xe48d9031)
    TEST_MTHI(0x13a4dae4, 0x13a4dae4)
    TEST_MTHI(0x5f8993f0, 0x5f8993f0)
    TEST_MTHI(0x6471adc4, 0x6471adc4)
    TEST_MTHI(0xbde8b004, 0xbde8b004)
    TEST_MTHI(0x6e0a708f, 0x6e0a708f)
    TEST_MTHI(0x7bd582f8, 0x7bd582f8)
    TEST_MTHI(0xf635d0bf, 0xf635d0bf)
    TEST_MTHI(0xa4de3554, 0xa4de3554)
    TEST_MTHI(0xfe80046c, 0xfe80046c)
    TEST_MTHI(0x0ba56ed8, 0x0ba56ed8)
    TEST_MTHI(0x81046530, 0x81046530)
    TEST_MTHI(0x302b6a86, 0x302b6a86)
    TEST_MTHI(0xa64ab346, 0xa64ab346)
    TEST_MTHI(0xc0e7c480, 0xc0e7c480)
    TEST_MTHI(0x3580ff02, 0x3580ff02)
    TEST_MTHI(0x6784541c, 0x6784541c)
    TEST_MTHI(0x0e0eaf04, 0x0e0eaf04)
    TEST_MTHI(0x82d4c296, 0x82d4c296)
    TEST_MTHI(0x4bcd09bc, 0x4bcd09bc)
    TEST_MTHI(0x50c1c904, 0x50c1c904)
    TEST_MTHI(0x440a7139, 0x440a7139)
    TEST_MTHI(0xf08c278a, 0xf08c278a)
    TEST_MTHI(0xf962ca1a, 0xf962ca1a)
    TEST_MTHI(0x4e2f5e5a, 0x4e2f5e5a)
    TEST_MTHI(0x8d491934, 0x8d491934)
    TEST_MTHI(0x5f561eb0, 0x5f561eb0)
    TEST_MTHI(0xc2c44240, 0xc2c44240)
    TEST_MTHI(0x3ece8a50, 0x3ece8a50)
    TEST_MTHI(0x7b593d90, 0x7b593d90)
    TEST_MTHI(0x887ae79c, 0x887ae79c)
    TEST_MTHI(0x15f75df4, 0x15f75df4)
    TEST_MTHI(0xdfd48638, 0xdfd48638)
    TEST_MTHI(0xe8db3040, 0xe8db3040)
    TEST_MTHI(0xafaa617a, 0xafaa617a)
    TEST_MTHI(0x5c06f660, 0x5c06f660)
    TEST_MTHI(0xfed4f7b0, 0xfed4f7b0)
    TEST_MTHI(0x6b3872c0, 0x6b3872c0)
    TEST_MTHI(0x6a40961c, 0x6a40961c)
    TEST_MTHI(0xcd646bfd, 0xcd646bfd)
    TEST_MTHI(0xbe0053f3, 0xbe0053f3)
    TEST_MTHI(0x8d0bc371, 0x8d0bc371)
    TEST_MTHI(0x37e6752c, 0x37e6752c)
    TEST_MTHI(0xaf0bb700, 0xaf0bb700)
    TEST_MTHI(0x4ecc28eb, 0x4ecc28eb)
    TEST_MTHI(0x118b9ba0, 0x118b9ba0)
    TEST_MTHI(0x24c94454, 0x24c94454)
    TEST_MTHI(0xa29242b3, 0xa29242b3)
    TEST_MTHI(0xa72ec1c4, 0xa72ec1c4)
    TEST_MTHI(0x945faf22, 0x945faf22)
    TEST_MTHI(0xa6659f20, 0xa6659f20)
    TEST_MTHI(0x74e49f12, 0x74e49f12)
    TEST_MTHI(0xd7976780, 0xd7976780)
    TEST_MTHI(0x302a095b, 0x302a095b)
    TEST_MTHI(0x34718ab2, 0x34718ab2)
    TEST_MTHI(0x579d76d0, 0x579d76d0)
    TEST_MTHI(0xa2a5d0f0, 0xa2a5d0f0)
    TEST_MTHI(0x873fad2d, 0x873fad2d)
    TEST_MTHI(0x644f2068, 0x644f2068)
    TEST_MTHI(0x08baa258, 0x08baa258)
    TEST_MTHI(0xfbd04422, 0xfbd04422)
    TEST_MTHI(0x0b64ae10, 0x0b64ae10)
    TEST_MTHI(0x43a9bd3e, 0x43a9bd3e)
    TEST_MTHI(0x38ae1e9e, 0x38ae1e9e)
    TEST_MTHI(0xb9f6303c, 0xb9f6303c)
    TEST_MTHI(0x3324f55f, 0x3324f55f)
    TEST_MTHI(0xda57c2f0, 0xda57c2f0)
    TEST_MTHI(0x8a106518, 0x8a106518)
    TEST_MTHI(0xc6b2ae32, 0xc6b2ae32)
    TEST_MTHI(0x625d7728, 0x625d7728)
    TEST_MTHI(0xf8e0a1c9, 0xf8e0a1c9)
    TEST_MTHI(0x6f5ce260, 0x6f5ce260)
    TEST_MTHI(0x5705d382, 0x5705d382)
    TEST_MTHI(0x7a728f55, 0x7a728f55)
    TEST_MTHI(0x860421e0, 0x860421e0)
    TEST_MTHI(0x943b0980, 0x943b0980)
    TEST_MTHI(0xb6a351bc, 0xb6a351bc)
    TEST_MTHI(0x531b7aac, 0x531b7aac)
    TEST_MTHI(0x8d52b60c, 0x8d52b60c)
    TEST_MTHI(0x8d44cc17, 0x8d44cc17)
    TEST_MTHI(0x062991d6, 0x062991d6)
    TEST_MTHI(0x00000000, 0x00000000)
###detect exception
    bne v0, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output a0|s3
inst_error:  
    or t0, a0, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n43_mthi_test)
