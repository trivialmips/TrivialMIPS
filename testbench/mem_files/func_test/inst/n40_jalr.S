#include <asm/asm.h>
#include <asm/regdef.h>
#include <cpu.h>
#include <machine.h>
#include <ns16550.h>
#include <asm/context.h>
#include <inst_test.h>

LEAF(n40_jalr_test)
    .set noreorder
    lui  a0, 0x2800
    li  v0, 0x0
###test inst
    TEST_JALR(0x6e6b362a, 0x240baf26, 0x6e6b362a, 0x240baf26)
    TEST_JALR(0x5d0fcbc0, 0xdba3ac64, 0x5d0fcbc0, 0xdba3ac64)
    TEST_JALR(0xa832bb00, 0xf43fa620, 0xa832bb00, 0xf43fa620)
    TEST_JALR(0x1e2aa5ca, 0x4782fd22, 0x1e2aa5ca, 0x4782fd22)
    TEST_JALR(0x188e3538, 0x278b5208, 0x188e3538, 0x278b5208)
    TEST_JALR(0xe03fef90, 0xd294c6c0, 0xe03fef90, 0xd294c6c0)
    TEST_JALR(0x23a49840, 0xd0677a68, 0x23a49840, 0xd0677a68)
    TEST_JALR(0x55781794, 0xaf213480, 0x55781794, 0xaf213480)
    TEST_JALR(0x78d976ca, 0x0f5c7b6e, 0x78d976ca, 0x0f5c7b6e)
    TEST_JALR(0x41be8dfc, 0xea0d3954, 0x41be8dfc, 0xea0d3954)
    TEST_JALR(0x5975ddea, 0x191bfc2c, 0x5975ddea, 0x191bfc2c)
    TEST_JALR(0x2af93360, 0x6d4ed976, 0x2af93360, 0x6d4ed976)
    TEST_JALR(0x8b28908c, 0x2506cdf6, 0x8b28908c, 0x2506cdf6)
    TEST_JALR(0xb880f72b, 0x78b65ab0, 0xb880f72b, 0x78b65ab0)
    TEST_JALR(0x9abc2fae, 0x1fccc210, 0x9abc2fae, 0x1fccc210)
    TEST_JALR(0x468ca120, 0x63a8cd28, 0x468ca120, 0x63a8cd28)
    TEST_JALR(0xbd5f8d6a, 0x9ccc5a00, 0xbd5f8d6a, 0x9ccc5a00)
    TEST_JALR(0x5ff33ad0, 0x8d633be8, 0x5ff33ad0, 0x8d633be8)
    TEST_JALR(0x8af04fe8, 0x3eaf5ed6, 0x8af04fe8, 0x3eaf5ed6)
    TEST_JALR(0xe39249c6, 0xadcd7888, 0xe39249c6, 0xadcd7888)
    TEST_JALR(0xe40ada2a, 0x10857a80, 0xe40ada2a, 0x10857a80)
    TEST_JALR(0x5e3be25a, 0x147f379c, 0x5e3be25a, 0x147f379c)
    TEST_JALR(0x411bd014, 0xcbdb91f0, 0x411bd014, 0xcbdb91f0)
    TEST_JALR(0x8bf66f88, 0x9c01e678, 0x8bf66f88, 0x9c01e678)
    TEST_JALR(0xd2dbe41e, 0xc555e593, 0xd2dbe41e, 0xc555e593)
    TEST_JALR(0x4a63d80f, 0x0be2df78, 0x4a63d80f, 0x0be2df78)
    TEST_JALR(0x349af1fb, 0xada05010, 0x349af1fb, 0xada05010)
    TEST_JALR(0x30ed73d0, 0xf43185b8, 0x30ed73d0, 0xf43185b8)
    TEST_JALR(0x5488c147, 0xef423493, 0x5488c147, 0xef423493)
    TEST_JALR(0x280dcfb0, 0x654b02dc, 0x280dcfb0, 0x654b02dc)
    TEST_JALR(0x0ac92d20, 0x704bae70, 0x0ac92d20, 0x704bae70)
    TEST_JALR(0x1ef22360, 0x73a8e5f8, 0x1ef22360, 0x73a8e5f8)
    TEST_JALR(0xcbdecc5e, 0x2ad31d30, 0xcbdecc5e, 0x2ad31d30)
    TEST_JALR(0xcd0c7478, 0xbe1a2679, 0xcd0c7478, 0xbe1a2679)
    TEST_JALR(0xb22dbf3a, 0x6a759f80, 0xb22dbf3a, 0x6a759f80)
    TEST_JALR(0x92128c02, 0x5c00f61b, 0x92128c02, 0x5c00f61b)
    TEST_JALR(0x9f65ad30, 0x9df7b834, 0x9f65ad30, 0x9df7b834)
    TEST_JALR(0x51c488e0, 0xf5d6fc20, 0x51c488e0, 0xf5d6fc20)
    TEST_JALR(0x9f5501c0, 0xd3e31474, 0x9f5501c0, 0xd3e31474)
    TEST_JALR(0xdb8d718a, 0x47cfe818, 0xdb8d718a, 0x47cfe818)
    TEST_JALR(0x0bda82d4, 0x4775755e, 0x0bda82d4, 0x4775755e)
    TEST_JALR(0x505a80f3, 0x7516bcc1, 0x505a80f3, 0x7516bcc1)
    TEST_JALR(0x12b1f92a, 0x76d73942, 0x12b1f92a, 0x76d73942)
    TEST_JALR(0xbe268c84, 0x195ade56, 0xbe268c84, 0x195ade56)
    TEST_JALR(0xd8ceb216, 0xd6bdfc38, 0xd8ceb216, 0xd6bdfc38)
    TEST_JALR(0x7d101790, 0xfd333d7c, 0x7d101790, 0xfd333d7c)
    TEST_JALR(0x231dd8d0, 0x8a5ad608, 0x231dd8d0, 0x8a5ad608)
    TEST_JALR(0x3a9ad2f2, 0xe8196b90, 0x3a9ad2f2, 0xe8196b90)
    TEST_JALR(0x0b479ee5, 0x17da32dc, 0x0b479ee5, 0x17da32dc)
    TEST_JALR(0x8b1c434a, 0x8082fa76, 0x8b1c434a, 0x8082fa76)
    TEST_JALR(0x4c023bfc, 0x4047da00, 0x4c023bfc, 0x4047da00)
    TEST_JALR(0xb9ff10d4, 0x05b68058, 0xb9ff10d4, 0x05b68058)
    TEST_JALR(0x536de97e, 0xc2bbd95c, 0x536de97e, 0xc2bbd95c)
    TEST_JALR(0xe61be653, 0xb66cd180, 0xe61be653, 0xb66cd180)
    TEST_JALR(0x06ed93e0, 0x8013cb46, 0x06ed93e0, 0x8013cb46)
    TEST_JALR(0x4db2624a, 0x882aa40a, 0x4db2624a, 0x882aa40a)
    TEST_JALR(0x9c18c981, 0xd46b0540, 0x9c18c981, 0xd46b0540)
    TEST_JALR(0x20362ea8, 0xdda4e301, 0x20362ea8, 0xdda4e301)
    TEST_JALR(0xbd4eb617, 0xd58664c0, 0xbd4eb617, 0xd58664c0)
    TEST_JALR(0x1b5548ff, 0xf3cd5356, 0x1b5548ff, 0xf3cd5356)
    TEST_JALR(0x268dcc90, 0xfb3b87a0, 0x268dcc90, 0xfb3b87a0)
    TEST_JALR(0xdac49479, 0xba036d18, 0xdac49479, 0xba036d18)
    TEST_JALR(0x35b58838, 0x84ddd8a0, 0x35b58838, 0x84ddd8a0)
    TEST_JALR(0x731a8e00, 0xf885d33c, 0x731a8e00, 0xf885d33c)
    TEST_JALR(0xa5d367b4, 0x5aa82d10, 0xa5d367b4, 0x5aa82d10)
    TEST_JALR(0x828fd0d0, 0xebb63816, 0x828fd0d0, 0xebb63816)
    TEST_JALR(0x412ca48c, 0x67322f2c, 0x412ca48c, 0x67322f2c)
    TEST_JALR(0x63b043e0, 0xa4c3cd80, 0x63b043e0, 0xa4c3cd80)
    TEST_JALR(0x812a64c0, 0xe59fc674, 0x812a64c0, 0xe59fc674)
    TEST_JALR(0x85c1c240, 0x97e2d472, 0x85c1c240, 0x97e2d472)
    TEST_JALR(0x6d927b58, 0x559b92ee, 0x6d927b58, 0x559b92ee)
    TEST_JALR(0xb404e120, 0x2eff91b0, 0xb404e120, 0x2eff91b0)
    TEST_JALR(0xa873e740, 0xdc258412, 0xa873e740, 0xdc258412)
    TEST_JALR(0xdaf80430, 0x05168b06, 0xdaf80430, 0x05168b06)
    TEST_JALR(0x5ada7e72, 0x79c97216, 0x5ada7e72, 0x79c97216)
    TEST_JALR(0x72bae777, 0xcbb2ebda, 0x72bae777, 0xcbb2ebda)
    TEST_JALR(0x9b23b0f0, 0x1a1b9780, 0x9b23b0f0, 0x1a1b9780)
    TEST_JALR(0xa631c6e6, 0xc01e5184, 0xa631c6e6, 0xc01e5184)
    TEST_JALR(0xcf0350d0, 0x52e0a720, 0xcf0350d0, 0x52e0a720)
    TEST_JALR(0x3a508bf0, 0x1dc1acf7, 0x3a508bf0, 0x1dc1acf7)
    TEST_JALR(0x5343dc05, 0xb235ce3d, 0x5343dc05, 0xb235ce3d)
    TEST_JALR(0xbb96b500, 0xa62bf360, 0xbb96b500, 0xa62bf360)
    TEST_JALR(0x3a4ceaac, 0x0236e7f0, 0x3a4ceaac, 0x0236e7f0)
    TEST_JALR(0x2a6da2ec, 0x8ca27828, 0x2a6da2ec, 0x8ca27828)
    TEST_JALR(0xdd11c93c, 0x008c5880, 0xdd11c93c, 0x008c5880)
    TEST_JALR(0x514f1f08, 0x912fa124, 0x514f1f08, 0x912fa124)
    TEST_JALR(0xd137f020, 0x5028a644, 0xd137f020, 0x5028a644)
    TEST_JALR(0xd2274400, 0xbab4fdb0, 0xd2274400, 0xbab4fdb0)
    TEST_JALR(0x1c78ea70, 0xff1c183c, 0x1c78ea70, 0xff1c183c)
    TEST_JALR(0x49a7b38c, 0x2dd52c00, 0x49a7b38c, 0x2dd52c00)
    TEST_JALR(0xeec80e06, 0x4c46dc50, 0xeec80e06, 0x4c46dc50)
    TEST_JALR(0x99f515c6, 0x0ac4da04, 0x99f515c6, 0x0ac4da04)
    TEST_JALR(0xaf18a348, 0xe9342d00, 0xaf18a348, 0xe9342d00)
    TEST_JALR(0x9f2ff980, 0xce65a118, 0x9f2ff980, 0xce65a118)
    TEST_JALR(0x3cbf7f40, 0xcb5d4589, 0x3cbf7f40, 0xcb5d4589)
    TEST_JALR(0x563a1054, 0x776a3d12, 0x563a1054, 0x776a3d12)
    TEST_JALR(0x199a5570, 0x7ce1721b, 0x199a5570, 0x7ce1721b)
    TEST_JALR(0x61aa3900, 0x416ddfc7, 0x61aa3900, 0x416ddfc7)
    TEST_JALR(0xaf13ac90, 0x23fff7b0, 0xaf13ac90, 0x23fff7b0)
    TEST_JALR(0xdeafbdfb, 0xb227d4a0, 0xdeafbdfb, 0xb227d4a0)
    TEST_JALR(0xa66f3a2a, 0x0cf9c0d4, 0xa66f3a2a, 0x0cf9c0d4)
    TEST_JALR(0x982c51e8, 0xf35905fe, 0x982c51e8, 0xf35905fe)
    TEST_JALR(0x78dc5240, 0x99cece05, 0x78dc5240, 0x99cece05)
    TEST_JALR(0x27aa9988, 0x63bd2180, 0x27aa9988, 0x63bd2180)
    TEST_JALR(0x98c55e18, 0x4c8a23cc, 0x98c55e18, 0x4c8a23cc)
    TEST_JALR(0x0864e8d8, 0xefa3c11f, 0x0864e8d8, 0xefa3c11f)
    TEST_JALR(0xa0129080, 0xf8be2c38, 0xa0129080, 0xf8be2c38)
    TEST_JALR(0x7fe9274c, 0x7805ef1c, 0x7fe9274c, 0x7805ef1c)
    TEST_JALR(0xf8573c00, 0x8d9a6b22, 0xf8573c00, 0x8d9a6b22)
    TEST_JALR(0x6d211770, 0x93e4396a, 0x6d211770, 0x93e4396a)
    TEST_JALR(0x8a543f20, 0x2e5da834, 0x8a543f20, 0x2e5da834)
    TEST_JALR(0xba56e260, 0x0fe2487a, 0xba56e260, 0x0fe2487a)
    TEST_JALR(0x3c6a2b4a, 0x1857965a, 0x3c6a2b4a, 0x1857965a)
    TEST_JALR(0x0d291e8b, 0x00507018, 0x0d291e8b, 0x00507018)
    TEST_JALR(0xcffd4000, 0xc0fec614, 0xcffd4000, 0xc0fec614)
    TEST_JALR(0x257f9580, 0x51b601dc, 0x257f9580, 0x51b601dc)
    TEST_JALR(0xe3efb2e4, 0x3ece2a1e, 0xe3efb2e4, 0x3ece2a1e)
    TEST_JALR(0x6c5fa775, 0xea5deeac, 0x6c5fa775, 0xea5deeac)
    TEST_JALR(0xa22f61a0, 0x61887758, 0xa22f61a0, 0x61887758)
    TEST_JALR(0x69cd9484, 0x7d39cf3c, 0x69cd9484, 0x7d39cf3c)
    TEST_JALR(0x95a3f330, 0x61db5f48, 0x95a3f330, 0x61db5f48)
    TEST_JALR(0x04359d84, 0xa0f4fb5f, 0x04359d84, 0xa0f4fb5f)
    TEST_JALR(0x4bb028b2, 0x3bffa5ec, 0x4bb028b2, 0x3bffa5ec)
    TEST_JALR(0xe2b0a2c0, 0xf2255610, 0xe2b0a2c0, 0xf2255610)
    TEST_JALR(0xa794d358, 0xdd1bda33, 0xa794d358, 0xdd1bda33)
    TEST_JALR(0xb7ffa000, 0xd9b9d158, 0xb7ffa000, 0xd9b9d158)
    TEST_JALR(0x308a97a0, 0x2ea884ea, 0x308a97a0, 0x2ea884ea)
    TEST_JALR(0xc2aafe00, 0xcba8aeda, 0xc2aafe00, 0xcba8aeda)
    TEST_JALR(0x0c235ca6, 0x08dad9f0, 0x0c235ca6, 0x08dad9f0)
    TEST_JALR(0x002758af, 0x4f2295d4, 0x002758af, 0x4f2295d4)
    TEST_JALR(0xcb1c7cd3, 0xf1c19a19, 0xcb1c7cd3, 0xf1c19a19)
    TEST_JALR(0x0503f3ca, 0xc5a0d14e, 0x0503f3ca, 0xc5a0d14e)
    TEST_JALR(0xea7ea380, 0xf200d2c8, 0xea7ea380, 0xf200d2c8)
    TEST_JALR(0xb35aa088, 0x9b4c1034, 0xb35aa088, 0x9b4c1034)
    TEST_JALR(0x524cf520, 0x6066b320, 0x524cf520, 0x6066b320)
    TEST_JALR(0x9300ed06, 0x17d08cb4, 0x9300ed06, 0x17d08cb4)
    TEST_JALR(0x6686ce3c, 0xa49ace88, 0x6686ce3c, 0xa49ace88)
    TEST_JALR(0x6499fc7a, 0xaf671f66, 0x6499fc7a, 0xaf671f66)
    TEST_JALR(0xd7f63668, 0x85063ab8, 0xd7f63668, 0x85063ab8)
    TEST_JALR(0x1cb4afc0, 0x66cc792c, 0x1cb4afc0, 0x66cc792c)
    TEST_JALR(0x60fa0e0a, 0xd8706ed8, 0x60fa0e0a, 0xd8706ed8)
    TEST_JALR(0x00c17a40, 0xbe7d2bc0, 0x00c17a40, 0xbe7d2bc0)
    TEST_JALR(0x9afa9d98, 0x980b0c54, 0x9afa9d98, 0x980b0c54)
    TEST_JALR(0xce0be588, 0xe44b84f2, 0xce0be588, 0xe44b84f2)
    TEST_JALR(0x797079e4, 0x8fbfb80d, 0x797079e4, 0x8fbfb80d)
    TEST_JALR(0x116f4350, 0xe8afc208, 0x116f4350, 0xe8afc208)
    TEST_JALR(0xe3729f6c, 0x82fbefc2, 0xe3729f6c, 0x82fbefc2)
    TEST_JALR(0x0a78e944, 0xe8b1a12a, 0x0a78e944, 0xe8b1a12a)
    TEST_JALR(0xdba0a468, 0x44521de4, 0xdba0a468, 0x44521de4)
    TEST_JALR(0x877c99c0, 0x92ec9cd0, 0x877c99c0, 0x92ec9cd0)
    TEST_JALR(0x3f4b1534, 0xaa78dc0e, 0x3f4b1534, 0xaa78dc0e)
    TEST_JALR(0x5a2ba14e, 0x46a0b8e0, 0x5a2ba14e, 0x46a0b8e0)
    TEST_JALR(0xc6cda210, 0xb73d1daa, 0xc6cda210, 0xb73d1daa)
    TEST_JALR(0xfaa69f00, 0x4638b0f0, 0xfaa69f00, 0x4638b0f0)
    TEST_JALR(0x63c81ce9, 0xe2ed6e98, 0x63c81ce9, 0xe2ed6e98)
    TEST_JALR(0x78e3c080, 0x7e85a8c0, 0x78e3c080, 0x7e85a8c0)
    TEST_JALR(0xd5ad20b0, 0x6d1da774, 0xd5ad20b0, 0x6d1da774)
    TEST_JALR(0x12ba6160, 0x06b644d0, 0x12ba6160, 0x06b644d0)
    TEST_JALR(0x76a1432a, 0x85eab480, 0x76a1432a, 0x85eab480)
    TEST_JALR(0x83b1d078, 0xee957294, 0x83b1d078, 0xee957294)
    TEST_JALR(0x694de574, 0xda62da80, 0x694de574, 0xda62da80)
    TEST_JALR(0xc95f1748, 0x8aa2fc5b, 0xc95f1748, 0x8aa2fc5b)
    TEST_JALR(0x3f8f31c8, 0x9e906a4e, 0x3f8f31c8, 0x9e906a4e)
    TEST_JALR(0xbf53426e, 0xaf124b10, 0xbf53426e, 0xaf124b10)
    TEST_JALR(0xc60cbf90, 0xb11bfb48, 0xc60cbf90, 0xb11bfb48)
    TEST_JALR(0xc2350500, 0x1fcb9330, 0xc2350500, 0x1fcb9330)
    TEST_JALR(0xb2af5140, 0xe3cea1b0, 0xb2af5140, 0xe3cea1b0)
    TEST_JALR(0x63248e60, 0x7118c472, 0x63248e60, 0x7118c472)
    TEST_JALR(0x906916a2, 0x55674c0f, 0x906916a2, 0x55674c0f)
    TEST_JALR(0xe77eeec0, 0x470584f6, 0xe77eeec0, 0x470584f6)
    TEST_JALR(0x9ff52a08, 0xd55e9100, 0x9ff52a08, 0xd55e9100)
    TEST_JALR(0xef3a85d0, 0x995782aa, 0xef3a85d0, 0x995782aa)
    TEST_JALR(0x81e337f8, 0x9c82c3a0, 0x81e337f8, 0x9c82c3a0)
    TEST_JALR(0x3e298dc8, 0x02ac6cd8, 0x3e298dc8, 0x02ac6cd8)
    TEST_JALR(0xd365fd70, 0x6a233e98, 0xd365fd70, 0x6a233e98)
    TEST_JALR(0x2044a324, 0xa39fec0b, 0x2044a324, 0xa39fec0b)
    TEST_JALR(0x39688b54, 0x7ede5a00, 0x39688b54, 0x7ede5a00)
    TEST_JALR(0x33325ec8, 0x069cc078, 0x33325ec8, 0x069cc078)
    TEST_JALR(0x281d17a0, 0x9e2f60c8, 0x281d17a0, 0x9e2f60c8)
    TEST_JALR(0x311cd17e, 0xefc468c8, 0x311cd17e, 0xefc468c8)
    TEST_JALR(0x787ef7de, 0xda72fb90, 0x787ef7de, 0xda72fb90)
    TEST_JALR(0x94b5a61a, 0x6cdf84e4, 0x94b5a61a, 0x6cdf84e4)
    TEST_JALR(0x29638a20, 0x2fbb2656, 0x29638a20, 0x2fbb2656)
    TEST_JALR(0xc5210ba6, 0xd65a04de, 0xc5210ba6, 0xd65a04de)
    TEST_JALR(0x12a93b40, 0x050b0700, 0x12a93b40, 0x050b0700)
    TEST_JALR(0x1e341c00, 0x29cae707, 0x1e341c00, 0x29cae707)
    TEST_JALR(0x7f72a67b, 0x47ba67c6, 0x7f72a67b, 0x47ba67c6)
    TEST_JALR(0x30e32f10, 0x028a9ed0, 0x30e32f10, 0x028a9ed0)
    TEST_JALR(0xaa6a2f86, 0x574ea69d, 0xaa6a2f86, 0x574ea69d)
    TEST_JALR(0xce7fee30, 0xea569892, 0xce7fee30, 0xea569892)
    TEST_JALR(0xa6ae023c, 0xc083be4d, 0xa6ae023c, 0xc083be4d)
    TEST_JALR(0x03ebfcfc, 0xd4eec0ec, 0x03ebfcfc, 0xd4eec0ec)
    TEST_JALR(0x7afd4e9c, 0x383ef760, 0x7afd4e9c, 0x383ef760)
    TEST_JALR(0xbda0c850, 0x5c667588, 0xbda0c850, 0x5c667588)
    TEST_JALR(0x977329e8, 0xf922fa40, 0x977329e8, 0xf922fa40)
    TEST_JALR(0xd7d1ccd0, 0xf39ef448, 0xd7d1ccd0, 0xf39ef448)
    TEST_JALR(0x6fe20051, 0xe6d286d2, 0x6fe20051, 0xe6d286d2)
    TEST_JALR(0xfb9cfd6d, 0x39ae4860, 0xfb9cfd6d, 0x39ae4860)
    TEST_JALR(0x138b8d70, 0xedd582e5, 0x138b8d70, 0xedd582e5)
    TEST_JALR(0xf1c91b75, 0xc4783b2e, 0xf1c91b75, 0xc4783b2e)
###detect exception
    bne v0, zero, inst_error
    nop
###score ++
    addiu s3, s3, 1
###output a0|s3
inst_error:  
    or t0, a0, s3 
    sw t0, 0(s1)
    jr ra
    nop
END(n40_jalr_test)
